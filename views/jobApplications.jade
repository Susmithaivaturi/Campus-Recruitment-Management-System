doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Officer Job Applications
    link(rel="stylesheet", href="/css/styles.css")
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css", rel="stylesheet")
  body
    // Navbar
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container-fluid
        h2.navbar-brand Campus Recruitment System
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav", aria-controls="navbarNav", aria-expanded="false", aria-label="Toggle navigation")
          span.navbar-toggler-icon
        .collapse.navbar-collapse#navbarNav
          ul.navbar-nav.ms-auto
            li.nav-item
              a.nav-link(href="/officerDashboard") Dashboard
            li.nav-item
              a.nav-link(href="/jobApplications") View Applications
            li.nav-item
              a.nav-link(href="/logout") Logout

    .container.mt-5
      h1.text-center Job Applications
      table.table.table-striped
        thead
          tr
            th Student Name
            th Job Title
            th Actions
        tbody
          // Dynamic Rows
          each application in applications
            tr
              if application.student
                td= application.student.name
              else
                td Student4
              
              if application.job
                td= application.job.jobTitle
              else
                td No Job Info
              
              td
                form(action="/manageApplication", method="POST")
                  input(type="hidden", name="applicationId", value=application._id)
                  button(type="submit", name="action", value="accept", class="btn btn-success") Accept
                  button(type="submit", name="action", value="reject", class="btn btn-danger") Reject
                  button(type="submit", name="action", value="processing", class="btn btn-warning") Processing

    // Bootstrap JS
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js")
